====== UPS Setup ======

===== Installing NUT for the OpenUPS =====

<code bash>
$ sudo aptitude install nut
</code>

Add the following to /etc/nut/ups.conf:

<code>
[openups]
    driver = usbhid-ups
    port = auto
    desc = "OpenUPS"
</code>
And comment out the line ''maxretry = 3''.

Try if it works:

<code bash>
$ sudo upsdrvctl start
</code>

Then, edit ''/etc/nut/nut.conf'' such that the last line reads

<code>
MODE=standalone
</code>

Finally reboot and run

<code bash>
$ sudo upsc openups@localhost
</code>

This should display information about the connected UPS. Check the ''device.model'' parameter and make sure that it is OPEN-UPS

==== Open UPS Default Settings By Battery ====

To load these parameters, you will need to install the **[[http://www.mini-box.com/OpenUPS | Windows tool]]** provided by Mini-Box. When you run it, you should see something like this:
{{:cs:ups_setup:openups_settings.png?400|}}

By switching to the settings submenu, you will be able to load the parameters through the **All parameters: File ===> OpenUPS (settings.ini)**. Use the correct settings file from below for your battery.

If you have need to update these files, please send the request to the [[slack>it|IT Channel]]

=== LiFePo4 3 cell 9.9V 4200 mAh ===

{{ :cs:ups_setup:zippy_settings.7z |}}